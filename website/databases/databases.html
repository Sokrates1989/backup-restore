<!-- Databases Tab -->
<div id="databases-tab" class="tab-content active">
    <div class="card">
        <div class="card-header">
            <h2>Databases</h2>
            <button id="add-database-btn" class="btn btn-primary btn-sm">+ Add Database</button>
        </div>
        <p class="hint">Databases to back up from / restore to</p>
        <div id="databases-list" class="items-list">
            <p class="loading">Loading databases...</p>
        </div>
    </div>

    <!-- Add/Edit Database Form -->
    <div id="database-form" class="card hidden">
        <h2 id="database-form-title">Add Database</h2>
        <p id="database-connection-help" class="hint"></p>
        <input type="hidden" id="database-id">
        <div class="form-group">
            <label for="database-name">Name</label>
            <input type="text" id="database-name" placeholder="e.g., Production Database">
        </div>
        <div class="form-group">
            <label for="database-db-type">Database Type</label>
            <select id="database-db-type">
                <option value="postgresql">PostgreSQL</option>
                <option value="mysql">MySQL</option>
                <option value="neo4j">Neo4j</option>
                <option value="sqlite">SQLite</option>
            </select>
        </div>
        <div class="form-group">
            <label for="database-host">Host</label>
            <input type="text" id="database-host" placeholder="e.g., localhost or db-service">
        </div>
        <div class="form-group">
            <label for="database-port">Port</label>
            <input type="number" id="database-port" placeholder="e.g., 5432">
        </div>
        <div class="form-group">
            <label for="database-database">Database Name</label>
            <input type="text" id="database-database" placeholder="e.g., myapp">
        </div>
        <div class="form-group">
            <label for="database-user">Username</label>
            <input type="text" id="database-user" placeholder="Database username">
        </div>
        <div class="form-group">
            <label for="database-password">Password</label>
            <input type="password" id="database-password" placeholder="Database password (encrypted at rest)">
        </div>
        <div class="form-actions">
            <button id="save-database-btn" class="btn btn-primary">Save Database</button>
            <button id="test-database-connection-btn" class="btn btn-secondary">Test Connection</button>
            <button id="cancel-database-btn" class="btn btn-secondary">Cancel</button>
        </div>
    </div>

    <!-- Backup/Restore Action Modal -->
    <div id="database-action-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="database-action-modal-title">Backup Database</h3>
                <button class="modal-close" onclick="hideDatabaseActionModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div id="database-action-status" class="status hidden">
                    <div class="status-text"></div>
                    <button type="button" class="status-close" aria-label="Dismiss status message">×</button>
                </div>
                <input type="hidden" id="database-action-target-id">
                <input type="hidden" id="database-action-type">
                
                <div class="form-group">
                    <label for="database-action-destination">Storage Location</label>
                    <select id="database-action-destination">
                        <option value="">Select storage location...</option>
                    </select>
                </div>
                
                <div id="database-action-local-warning" class="warning-box hidden">
                    <strong>⚠️ Warning:</strong> Local storage should only be used for testing. 
                    It bloats the server and is less secure than remote storage. 
                    For production use, configure SFTP or Google Drive.
                </div>

                <div id="database-action-restore-source" class="form-group hidden">
                    <label for="database-action-backup-file">Backup File</label>
                    <select id="database-action-backup-file">
                        <option value="">Select backup file...</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button id="database-action-execute-btn" class="btn btn-primary">Execute</button>
                <button class="btn btn-secondary" onclick="hideDatabaseActionModal()">Cancel</button>
            </div>
        </div>
    </div>
</div>
